# TCP 채팅 서버 프로젝트

**.NET 8 기반 멀티 유저 실시간 채팅 서버**  
TCP 소켓, 비동기/스레드, MSSQL 연동, 멀티 유저, 파일/메시지 암호화 등 설계/구현

---
## 사용 기술 스택
- **언어/플랫폼**  
  - C#, .NET 8 Console App
- **DB**  
  - MSSQL  
  - Dapper
- **네트워크**  
  - TCPListener / TCPClient  
  - Stream/Async/Task 기반 패킷 송수신  
  - ConcurrentDictionary로 유저 동시접속 관리
- **보안**  
  - AES 대칭키 암호화(메시지/파일)
  
---
## 개발/설계 경험
- 멀티 유저 실시간 채팅 서버 직접 설계 및 구현
- 사용자 로그인/회원가입 처리, DB 연동 및 인증
- 채팅 패킷(ChatPacket) 타입별 분기(메시지/파일/시스템/삭제/타이핑 등)
- 동시접속 유저 관리(ConcurrentDictionary), 각 유저 독립 스레드/비동기 Task
- Heartbeat(Ping/Pong) 기반 연결 유지, 장애 자동 감지 및 연결 해제 처리
- 메시지/파일 모두 AES 암호화, 파일 송수신 시 바이너리 처리
- 메시지 삭제/읽음/타이핑 등 메신저 확장성 고려 설계

---
## 주요 기능 요약
- **회원가입/로그인/로그아웃** (DB 연동, Users/ChatMessages 테이블)
- **실시간 채팅/파일 송수신**
  - 텍스트/이미지/파일 송수신
  - 메시지/파일 암호화 저장 및 복호화 후 전달
- **타입별 패킷 분기 처리**
  - 메시지, 파일, 시스템, 타이핑, 읽음, 삭제, 히스토리 등
- **유저리스트/히스토리/읽음/삭제 등 주요 메신저 기능**
- **Ping/Pong 기반 연결 유지, 장애 자동 감지/정리**
- **서버 이벤트/로그 콘솔 출력**

---
## 주요 구조/파일
TcpChatServer/ <br>
├── Program.cs # 메인 서버, 클라이언트 관리/패킷 처리<br>
├── Database.cs # DB 저장/조회<br>
├── AesEncryption.cs # AES 암호화/복호화<br>
├── ChatPacket.cs # 채팅 패킷 구조<br>

---
## 참고
- **DB 연결정보, 암호키(IV)는 실운영환경에 맞게 보안 적용 필요**
- 서버와 클라이언트는 같은 버전/패킷 구조 사용 필요
- Windows 방화벽/포트(9000 등) 허용 필요

